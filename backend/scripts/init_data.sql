-- 初始化测试数据
-- 注意：这个脚本仅用于开发测试环境

-- 插入默认家庭
INSERT IGNORE INTO families (id, name, invite_code, avatar, description, created_at, updated_at) 
VALUES (1, 'Love Order 测试家庭', 'TEST001', '', '用于开发测试的默认家庭', NOW(), NOW());

-- 插入默认用户
INSERT IGNORE INTO users (id, openid, unionid, nickname, avatar_url, gender, city, province, country, role, family_id, is_active, created_at, updated_at)
VALUES (1, 'test_openid_001', '', '测试用户', '', 1, '深圳', '广东', '中国', 'admin', 1, 1, NOW(), NOW());

-- 插入默认分类
INSERT IGNORE INTO recipe_categories (id, family_id, name, icon, sort_order, created_at, updated_at)
VALUES
(1, 1, '热门推荐', '🔥', 1, NOW(), NOW()),
(2, 1, '汤品', '🍲', 2, NOW(), NOW()),
(3, 1, '素食', '🥬', 3, NOW(), NOW()),
(4, 1, '甜品', '🍰', 4, NOW(), NOW()),
(5, 1, '川菜', '🌶️', 5, NOW(), NOW()),
(6, 1, '粤菜', '🦐', 6, NOW(), NOW()),
(7, 1, '湘菜', '🌶️', 7, NOW(), NOW()),
(8, 1, '鲁菜', '🐟', 8, NOW(), NOW()),
(9, 1, '早餐', '🥞', 9, NOW(), NOW()),
(10, 1, '夜宵', '🌙', 10, NOW(), NOW());

-- 插入默认菜谱
INSERT IGNORE INTO recipes (id, family_id, created_by, category_id, name, description, ingredients, steps, cooking_time, servings, difficulty, tags, price, is_available, is_featured, view_count, like_count, order_count, created_at, updated_at)
VALUES
-- 热门推荐
(1, 1, 1, 1, '红烧肉', '肥瘦相间，入口即化的经典红烧肉',
 '["五花肉500g", "生抽3勺", "老抽1勺", "冰糖30g", "料酒2勺", "葱段", "姜片", "八角2个"]',
 '["五花肉切块，冷水下锅焯水", "热锅下肉块煸炒出油", "加入冰糖炒糖色", "加入生抽老抽料酒", "加水没过肉块", "大火烧开转小火炖1小时", "大火收汁即可"]',
 60, 4, 'hard', '下饭菜,经典菜', 25.80, true, true, 156, 89, 45, NOW(), NOW()),

(2, 1, 1, 1, '宫保鸡丁', '酸甜微辣，嫩滑爽口的川菜经典',
 '["鸡胸肉300g", "花生米100g", "干辣椒10个", "花椒1勺", "葱白", "蒜瓣", "生抽", "老抽", "醋", "糖", "淀粉"]',
 '["鸡肉切丁腌制", "花生米炸熟", "热锅爆香干辣椒花椒", "下鸡丁炒至变色", "调味炒匀", "最后加入花生米即可"]',
 30, 3, 'medium', '川菜,下饭菜', 22.80, true, true, 134, 76, 38, NOW(), NOW()),

(3, 1, 1, 1, '糖醋里脊', '酸甜可口，外酥内嫩的经典菜品',
 '["猪里脊300g", "番茄酱3勺", "白醋2勺", "白糖2勺", "生抽1勺", "淀粉", "鸡蛋1个", "面粉"]',
 '["里脊切条腌制", "裹蛋液和淀粉炸至金黄", "调糖醋汁", "热锅炒糖醋汁", "倒入里脊炒匀即可"]',
 35, 3, 'medium', '酸甜,家常菜', 24.80, true, false, 98, 65, 32, NOW(), NOW()),

(4, 1, 1, 1, '可乐鸡翅', '甜香可口，老少皆宜的家常菜',
 '["鸡翅8个", "可乐1罐", "生抽2勺", "老抽1勺", "料酒1勺", "姜片", "葱段"]',
 '["鸡翅划刀焯水", "热锅煎鸡翅至两面金黄", "倒入可乐没过鸡翅", "加调料大火烧开", "转小火炖20分钟", "大火收汁即可"]',
 40, 3, 'easy', '家常菜,甜味', 18.80, true, true, 187, 112, 67, NOW(), NOW()),

-- 汤品
(5, 1, 1, 2, '番茄鸡蛋汤', '酸甜开胃，营养丰富的家常汤',
 '["番茄2个", "鸡蛋2个", "葱花", "盐", "糖", "香油"]',
 '["番茄去皮切块", "鸡蛋打散", "热锅炒番茄出汁", "加水烧开", "倒入蛋液", "调味即可"]',
 15, 2, 'easy', '清淡,开胃', 8.80, true, false, 89, 45, 23, NOW(), NOW()),

(6, 1, 1, 2, '冬瓜排骨汤', '清香甘甜，滋补养颜的营养汤品',
 '["排骨500g", "冬瓜300g", "姜片", "葱段", "料酒", "盐", "胡椒粉"]',
 '["排骨焯水洗净", "砂锅加水放入排骨和姜片", "大火烧开转小火炖1小时", "加入冬瓜块", "继续炖20分钟", "调味即可"]',
 90, 4, 'easy', '清汤,滋补', 16.80, true, true, 76, 42, 28, NOW(), NOW()),

(7, 1, 1, 2, '紫菜蛋花汤', '清淡鲜美，简单快手的家常汤',
 '["紫菜20g", "鸡蛋2个", "虾皮10g", "香菜", "盐", "香油", "胡椒粉"]',
 '["紫菜洗净撕成小片", "鸡蛋打散", "锅内加水烧开", "放入紫菜和虾皮", "倒入蛋液搅拌", "调味撒香菜即可"]',
 10, 2, 'easy', '清淡,快手', 6.80, true, false, 54, 28, 15, NOW(), NOW()),

-- 素食
(8, 1, 1, 3, '麻婆豆腐', '麻辣鲜香，嫩滑可口的经典川菜',
 '["嫩豆腐400g", "肉末100g", "豆瓣酱2勺", "花椒粉", "葱花", "蒜末", "生抽", "淀粉水"]',
 '["豆腐切块焯水", "热锅炒肉末", "加豆瓣酱炒香", "加水烧开", "下豆腐煮3分钟", "勾芡撒葱花即可"]',
 20, 3, 'medium', '川菜,素食', 12.80, true, true, 123, 67, 41, NOW(), NOW()),

(9, 1, 1, 3, '地三鲜', '东北经典素菜，软糯香甜',
 '["茄子2个", "土豆2个", "青椒2个", "生抽", "老抽", "糖", "蒜末", "淀粉"]',
 '["茄子土豆切块过油", "青椒切块", "热锅爆香蒜末", "下茄子土豆翻炒", "加调料和青椒", "炒匀即可"]',
 25, 3, 'medium', '东北菜,素食', 14.80, true, false, 87, 43, 26, NOW(), NOW()),

(10, 1, 1, 3, '干煸四季豆', '干香麻辣，下饭神器',
 '["四季豆500g", "肉末100g", "干辣椒", "花椒", "豆瓣酱", "生抽", "糖", "蒜末"]',
 '["四季豆掐头去尾", "热锅炸四季豆至起皱", "留底油炒肉末", "加豆瓣酱炒香", "下四季豆炒匀", "调味即可"]',
 30, 3, 'medium', '川菜,下饭菜', 16.80, true, true, 98, 52, 31, NOW(), NOW()),

-- 甜品
(11, 1, 1, 4, '红豆沙', '香甜软糯，温暖人心的传统甜品',
 '["红豆200g", "冰糖50g", "水适量"]',
 '["红豆提前浸泡4小时", "加水煮开转小火", "煮至软烂", "加冰糖煮至融化", "用勺子压成泥状即可"]',
 45, 4, 'easy', '甜品,传统', 9.80, true, false, 67, 34, 18, NOW(), NOW()),

(12, 1, 1, 4, '银耳莲子汤', '滋阴润燥，美容养颜的甜品',
 '["银耳1朵", "莲子50g", "红枣6个", "冰糖30g", "枸杞10g"]',
 '["银耳提前泡发撕小朵", "莲子去芯", "砂锅加水放入银耳莲子", "大火烧开转小火炖1小时", "加红枣冰糖", "炖30分钟加枸杞即可"]',
 120, 3, 'easy', '甜品,滋补', 12.80, true, true, 89, 56, 29, NOW(), NOW()),

(13, 1, 1, 4, '芒果布丁', '香甜顺滑，夏日必备甜品',
 '["芒果2个", "牛奶200ml", "吉利丁片2片", "细砂糖30g"]',
 '["吉利丁片冷水泡软", "芒果打成泥", "牛奶加糖加热", "加入吉利丁搅拌融化", "倒入芒果泥拌匀", "倒入模具冷藏2小时即可"]',
 30, 2, 'easy', '甜品,免烤', 15.80, true, false, 78, 45, 22, NOW(), NOW()),

-- 川菜
(14, 1, 1, 5, '水煮鱼', '麻辣鲜香，嫩滑爽口的川菜经典',
 '["草鱼1条", "豆芽菜200g", "白菜100g", "豆瓣酱3勺", "干辣椒20个", "花椒2勺", "蒜瓣", "姜片", "葱段"]',
 '["鱼片成片腌制", "豆芽白菜焯水垫底", "炒豆瓣酱出红油", "加水烧开下鱼片", "煮2分钟盛起", "撒辣椒花椒", "浇热油即可"]',
 45, 4, 'hard', '川菜,麻辣', 32.80, true, true, 145, 78, 42, NOW(), NOW()),

(15, 1, 1, 5, '回锅肉', '川菜之王，肥而不腻香辣下饭',
 '["五花肉400g", "青椒2个", "豆瓣酱2勺", "甜面酱1勺", "蒜苗", "姜片", "蒜瓣"]',
 '["五花肉煮至8成熟切片", "青椒切块", "热锅下肉片煸炒出油", "加豆瓣酱炒出红油", "下青椒蒜苗", "调味炒匀即可"]',
 35, 3, 'medium', '川菜,下饭菜', 26.80, true, true, 167, 89, 56, NOW(), NOW()),

(16, 1, 1, 5, '鱼香肉丝', '酸甜咸辣，色香味俱全的川菜',
 '["猪肉丝200g", "冬笋丝", "胡萝卜丝", "木耳丝", "泡椒", "蒜末", "姜末", "葱花", "豆瓣酱", "糖", "醋", "生抽"]',
 '["肉丝腌制", "调鱼香汁", "热锅炒肉丝至变色", "加配菜炒匀", "倒入鱼香汁", "炒至收汁即可"]',
 25, 3, 'medium', '川菜,酸甜', 19.80, true, false, 112, 67, 34, NOW(), NOW()),

-- 粤菜
(17, 1, 1, 6, '白切鸡', '清淡鲜美，原汁原味的粤菜经典',
 '["土鸡1只", "姜片", "葱段", "料酒", "盐", "生抽", "香油", "蒜蓉", "姜蓉"]',
 '["整鸡洗净", "锅内加水放姜葱料酒", "水开下鸡煮15分钟", "关火焖10分钟", "捞起过冰水", "切块装盘", "调蘸料即可"]',
 40, 4, 'medium', '粤菜,清淡', 28.80, true, true, 98, 54, 31, NOW(), NOW()),

(18, 1, 1, 6, '蒜蓉蒸扇贝', '鲜美嫩滑，蒜香浓郁',
 '["扇贝8个", "蒜瓣10个", "小米椒2个", "葱花", "生抽", "蒸鱼豉油", "料酒", "盐", "糖"]',
 '["扇贝洗净摆盘", "蒜蓉爆香", "调蒜蓉汁", "淋在扇贝上", "蒸锅蒸5分钟", "撒葱花小米椒即可"]',
 20, 2, 'easy', '粤菜,海鲜', 35.80, true, true, 87, 49, 26, NOW(), NOW()),

-- 早餐
(19, 1, 1, 9, '小笼包', '皮薄馅大，汤汁丰富的经典早餐',
 '["面粉300g", "猪肉馅200g", "皮冻100g", "韭菜", "生抽", "老抽", "料酒", "盐", "糖", "香油"]',
 '["和面醒发", "调肉馅加皮冻", "擀皮包馅", "蒸笼刷油", "包子上锅蒸15分钟", "关火焖3分钟即可"]',
 60, 4, 'hard', '早餐,包子', 2.50, true, true, 156, 89, 78, NOW(), NOW()),

(20, 1, 1, 9, '豆浆油条', '经典搭配，温暖的早餐回忆',
 '["黄豆100g", "面粉300g", "酵母3g", "盐", "糖", "小苏打", "油"]',
 '["黄豆提前泡发", "豆浆机打豆浆", "面粉和成油条面", "醒发2小时", "搓条下锅炸至金黄", "配豆浆享用"]',
 45, 3, 'medium', '早餐,传统', 8.80, true, false, 134, 76, 45, NOW(), NOW());

-- 插入一些收藏记录
INSERT IGNORE INTO user_recipe_favorites (user_id, recipe_id, created_at)
VALUES
(1, 2, NOW()),
(1, 5, NOW()),
(1, 8, NOW()),
(1, 12, NOW()),
(1, 15, NOW()),
(1, 17, NOW()),
(1, 19, NOW());
